FFLUSH(3) Linux 程序员手册 FFLUSH(3)

姓名
fflush - 刷新流

概要
#include <stdio.h>

int fflush(FILE *流);

描述
对于输出流，fflush() 强制写入所有用户空间缓冲数据
通过流的底层写入函数给定输出或更新流。

对于与可查找文件（例如磁盘文件，但不是管道）关联的输入流
或终端），fflush() 丢弃从
底层文件，但尚未被应用程序使用。

流的打开状态不受影响。

如果流参数为 NULL，fflush() 会刷新所有打开的输出流。

对于非锁定对应项，请参阅unlocked_stdio(3)。

返回值
成功完成后返回 0。否则，返回 EOF 并返回 errno
设置以指示错误。

错误
EBADF 流不是开放流，或者未开放写入。

函数 fflush() 也可能失败并为任何指定的错误设置 errno
用于写（2）。

属性
有关本节中使用的术语的解释，请参阅 attribute(7)。

┌──────────┬──────────────┬──────────┐
│接口 │属性 │值 │
├──────────┼────────────────┼──────────┤
│fflush() │ 线程安全 │ MT-Safe │
└──────────┴────────────────┴──────────┘
符合
C89、C99、POSIX.1-2001、POSIX.1-2008。

POSIX.1-2001 没有指定刷新输入流的行为，但是
行为在 POSIX.1-2008 中指定。

笔记
请注意，fflush() 仅刷新 C 库提供的用户空间缓冲区。
为了确保数据物理存储在磁盘上，内核缓冲区必须
也可以刷新，例如使用sync(2)或fsync(2)。

也可以看看
fsync(2)、sync(2)、write(2)、fclose(3)、fileno(3)、fopen(3)、setbuf(3)、un-
锁定的stdio(3)

版画
本页是 Linux 手册页项目 5.10 版的一部分。的描述
项目、有关报告错误的信息以及此页面的最新版本，
可以在 https://www.kernel.org/doc/man-pages/ 找到。

GNU 2017-09-15 FFLUSH(3)
