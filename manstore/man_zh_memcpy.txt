MEMCPY(3) Linux 程序员手册 MEMCPY(3)

姓名
memcpy - 复制内存区域

概要
#include <字符串.h>

void *memcpy(void *dest, const void *src, size_t n);

描述
memcpy() 函数将 n 个字节从内存区域 src 复制到内存区域 dest。内存区域不得
重叠。如果内存区域重叠，请使用 memmove(3)。

返回值
memcpy() 函数返回一个指向 dest 的指针。

属性
有关本节中使用的术语的解释，请参阅 attribute(7)。

┌──────────┬──────────────┬──────────┐
│接口 │属性 │值 │
├──────────┼────────────────┼──────────┤
│memcpy() │ 线程安全 │ MT-Safe │
└──────────┴────────────────┴──────────┘
符合
POSIX.1-2001、POSIX.1-2008、C89、C99、SVr4、4.3BSD。

笔记
未能遵守内存区域不重叠的要求已成为重大问题的根源
错误。（POSIX 和 C 标准明确指出，使用具有重叠区域的 memcpy() 会产生不明确的结果。
最值得注意的是，在 glibc 2.13 中，memcpy() 在某些平台上的性能优化（在-
包括 x86-64）包括更改字节从 src 复制到 dest 的顺序。

此更改揭示了许多执行重叠区域复制的应用程序中的损坏。联合国-
在之前的实现中，复制字节的顺序偶然隐藏了错误，
当复制顺序颠倒时，这一点就被揭示了。在 glibc 2.14 中，添加了版本符号，以便
旧的二进制文件（即那些与早于 2.14 的 glibc 版本链接的二进制文件）采用了 memcpy() 实现
安全地处理重叠缓冲区的情况（通过提供一个“旧的”memcpy() 实现，该实现是
别名为 memmove(3))。

也可以看看
bcopy(3)、bstring(3)、memccpy(3)、memmove(3)、mempcpy(3)、strcpy(3)、strncpy(3)、wmemcpy(3)

版画
本页是 Linux 手册页项目 5.10 版的一部分。项目描述、信息
关于报告错误以及此页面的最新版本，可以在以下位置找到
https://www.kernel.org/doc/man-pages/。

2017-09-15 MEMCPY(3)
